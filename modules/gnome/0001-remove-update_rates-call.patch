From c258c68c3956c5926ae41b8b96c2373e51d10c4b Mon Sep 17 00:00:00 2001
From: ckie <git-525ff67@ckie.dev>
Date: Thu, 5 May 2022 15:30:10 +0300
Subject: [PATCH] remove update_rates call

---
 lib/currency-provider.vala | 1 -
 lib/currency.vala          | 6 +-----
 2 files changed, 1 insertion(+), 6 deletions(-)

diff --git a/lib/currency-provider.vala b/lib/currency-provider.vala
index bd47159..49a2fe9 100644
--- a/lib/currency-provider.vala
+++ b/lib/currency-provider.vala
@@ -26,7 +26,6 @@ public abstract class AbstractCurrencyProvider : Object, CurrencyProvider {
         updated ();
 
         this.refresh_interval = interval;
-        update_rates (asyncLoad);
     }
 
     public bool is_loaded() {
diff --git a/lib/currency.vala b/lib/currency.vala
index bd7f652..f9810f1 100644
--- a/lib/currency.vala
+++ b/lib/currency.vala
@@ -136,11 +136,7 @@ public class CurrencyManager : Object
 
     public void initialize_providers (bool asyncLoad = true)
     {
-        /* Start downloading the rates if they are outdated. */
-        foreach (var p in providers) {
-            p.updated.connect ( () => { update (); });
-            p.update_rates (asyncLoad);
-        }
+    /* nooped by ckiee */
     }
 
     public List<Currency> get_currencies ()
-- 
2.36.0

